# 5.1. 機能仕様書: プロジェクト管理

## 機能概要
ユーザーはプロジェクトを作成し、所属するプロジェクトを一覧で確認できる。プロジェクトの編集・削除も可能。プロジェクトには編集者と閲覧者の権限がある。

---

### ユーザーストーリー
- ユーザーとして、新しいプロジェクトを作成したい。なぜなら、新しい管理単位でタスクを整理したいからだ。
- ユーザーとして、自分が参加しているプロジェクトの一覧を見たい。なぜなら、すぐに目的のプロジェクトにアクセスしたいからだ。
- ユーザーとして、プロジェクトの設定を編集したい。なぜなら、プロジェクト名や説明を更新したいからだ。
- ユーザーとして、不要になったプロジェクトを削除したい。なぜなら、管理を簡潔に保ちたいからだ。

---

### 画面構成要素
- **プロジェクト一覧**: グリッド形式でプロジェクトカードを表示
- **プロジェクトカード**: プロジェクト名、説明、作成日、権限（編集者/閲覧者）を表示
- **新規作成ボタン**: プロジェクト作成モーダルを開く
- **プロジェクト設定モーダル**: プロジェクトの編集・削除機能を提供

---

### 正常系フロー（プロジェクト作成）
1.  ユーザーはダッシュボードまたはプロジェクト一覧ページにある「新規プロジェクト作成」ボタンをクリックする。
2.  プロジェクト作成モーダルが表示される。
3.  ユーザーは「プロジェクト名」（必須）と「説明」（任意）を入力する。
4.  「作成」ボタンをクリックする。
5.  システムはプロジェクトをデータベースに保存し、作成者は自動的に編集者権限で参加する。
6.  プロジェクト一覧ページにリダイレクトされ、作成したプロジェクトが表示される。

### 正常系フロー（プロジェクト編集）
1.  ユーザーはプロジェクトカードをクリックしてプロジェクト詳細ページに移動する。
2.  プロジェクト設定ボタンをクリックしてプロジェクト設定モーダルを開く。
3.  編集ボタンをクリックして編集モードに切り替える。
4.  プロジェクト名や説明を編集する。
5.  保存ボタンをクリックして変更を保存する。

### 正常系フロー（プロジェクト削除）
1.  ユーザーはプロジェクト設定モーダルを開く。
2.  下の「危険な操作」セクションにある「プロジェクトを削除」ボタンをクリックする。
3.  確認ダイアログが表示される。
4.  確認すると、プロジェクトと関連するすべてのタスクが削除される。

### 権限管理
- **編集者**: プロジェクトの編集・削除、タスクの作成・編集・削除が可能
- **閲覧者**: プロジェクトとタスクの閲覧のみ可能

### 異常系フロー
- **プロジェクト名が未入力の場合**:
  - 「作成」ボタンをクリックすると、「プロジェクト名は必須です」というエラーメッセージを表示する。
- **権限がない場合**:
  - 閲覧者権限のユーザーがプロジェクトの編集・削除を試みた場合、「プロジェクトの編集権限がありません」というエラーメッセージを表示する。
- **サーバーエラー**:
  - データベースへの保存に失敗した場合、「プロジェクトの作成に失敗しました」というエラーメッセージを表示する。
